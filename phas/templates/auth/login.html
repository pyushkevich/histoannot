{% extends 'base.html' %}

{% block header %}
  <h1>{% block title %}PICSL Histology Annotation System{% endblock %}</h1>
{% endblock %}

{% block content %}
<link rel="stylesheet" type="text/css" href="{{ url_for('static', filename='jquery-ui/jquery-ui.css') }}">
<script type="text/javascript" src="{{ url_for('static', filename='jquery-3.6.4.min.js') }}"></script>
<script type="text/javascript" src="{{ url_for('static', filename='jquery-ui/jquery-ui.js') }}"></script>

<div class="pure-g">
  <div class="pure-u-1 pure-u-md-2-5">
    <div id="tabs-existing-new">
      <ul>
        <li><a href="#tabs-existing">Existing Users</a></li>
        {% if config.HISTOANNOT_ALLOW_NEW_ACCOUNTS and config.HISTOANNOT_ALLOW_ORCID_LOGIN %}
        <li><a href="#tabs-new">New Account</a></li>
        {% endif %}
      </ul>
      <div id="tabs-existing">
        <form method="post" class="pure-form">
          <fieldset>
            <legend>Sign in with username and password</legend>
            <input type="text" name="username" id="username" autocomplete="username" required style="width:140pt;" placeholder="Username">
            <input type="password" name="passwd" id="passwd"  autocomplete="current-password" required style="width:140pt;"  placeholder="Password">
            <button type="submit" class="pure-button pure-button-primary" style="margin-bottom: 1em;">Sign In</button> 
            <div style="font-size: smaller; margin-top: -1em;">
              Forgot your username or password? <a href="{{url_for('auth.reset')}}">Request a password reset link</a>.
            </div>
          </fieldset>
        </form>
        {% if config.HISTOANNOT_ALLOW_ORCID_LOGIN %}
        <form method="post" class="pure-form">
          <fieldset>
            <legend>Sign in with ORCID iD</legend>
            <a class="pure-button" href="{{url_for('auth.login_with_orcid')}}">
                <img src="/static/icons/id-icon.svg" alt="ORCID iD" style="height:1.1em; vertical-align:-0.175em"/> Sign in with ORCID iD
            </a>
          </fieldset>
        </form>
        {% endif %}
      </div>
      {% if config.HISTOANNOT_ALLOW_NEW_ACCOUNTS and config.HISTOANNOT_ALLOW_ORCID_LOGIN %}
      <div id="tabs-new">
        <p>If you do not have an account, you can create a guest account linked to your ORCID iD.</p>
        <form method="post" class="pure-form">
          <fieldset>
            <a class="pure-button" href="{{url_for('auth.create_account_with_orcid')}}">
                <img src="/static/icons/id-icon.svg" alt="ORCID iD" style="height:1.1em; vertical-align:-0.175em"/> Sign in with ORCID iD
            </a>
          </fieldset>
        </form>
      </div>
      {% endif %}
    </div>
  </div>
  <!--
  <div class="pure-u-1 pure-u-md-2-5">
    <form method="post" class="pure-form pure-form-stacked">
      <fieldset>
        <a href="{{url_for('auth.login_with_orcid')}}">
          <button type="submit" class="pure-button"><img src="/static/icons/id-icon.svg" alt="ORCID iD" style="height:1.1em; vertical-align:-0.175em"/> Sign in with ORCID iD</button>
        </a>
      </fieldset>
    </form>
  </div>-->

</div>

<script type="text/javascript" charset="utf8">
$(document).ready(function() {
  $("#tabs-existing-new").tabs();
});
</script>

{% endblock %}
